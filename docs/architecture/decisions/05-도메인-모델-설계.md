# 도메인 모델 설계

Date: 2025-02-13

## 상태

적용 중

## 맥락

SNS 서비스를 운영하기 위해서 필요한 필요한 도메인을 크게 세 가지로 분류했다. \
이를 기반으로 DB 스키마 설계와, JPA에서 매핑을 고려한 엔티티를 설계했다.

1. 유저
2. 게시물
3. 댓글

<pre>
유저의 자산 정보는 외부 API에서 제공받을 계획이므로, 별도 도메인으로 분리하지 않고 "유저 닉네임의 대체 정보" 정도로만 활용
</pre>
<pre>
여러 사용자가 여러 게시글과 댓글에 좋아요를 누를 수 있기 때문에, 다대다(M:N) 관계가 발생
이를 해결하기 위해 중간 단계(게시물 좋아요 / 댓글 좋아요)를 추가하여 1:N 관계로 변환
</pre>

## 결정

!["Domain Architecture"](./05-도메인-모델-설계.jpg)

<pre>
* 대신 N을 사용하여 일대다 관계를 명확히 표기
</pre>

## 결과

- 답글에 대한 답글(대댓글) 지원을 고려해서, 계층형 구조를 적용할 예정
- 좋아요 기능은 중간 단계를 통해 1:N 관계로 변환하여 성능과 유지보수를 개선
